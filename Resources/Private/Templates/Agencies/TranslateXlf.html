<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true">
      {namespace core=TYPO3\CMS\Core\ViewHelpers}
      {namespace be=TYPO3\CMS\Backend\ViewHelpers}

<f:layout name="Module"/>

<f:section name="Content">

    <section class="container">
        <h2>
            <f:translate key="AiSuite.module.Agencies.translateXlf.header"/>
        </h2>

        <f:form action="validateXlfResult" name="input" object="{input}" enctype="multipart/form-data" class="with-spinner">
            <f:render partial="Agencies/AllProperties" arguments="{_all}" />
            <f:render partial="Libs/SelectTranslateGenerationLibrary" arguments="{translateGenerationLibraries: translateGenerationLibraries, paidRequestsAvailable: paidRequestsAvailable}" />
            <div class="form-group">
                <label for="extensionKey">
                    <f:translate key="AiSuite.module.Agencies.translateXlf.insertExtKey"/>
                </label><br />
                <f:form.textfield property="extensionKey" name="extensionKey" class="form-control" required="required"/>
            </div>

            <div class="form-group">
                <label for="filename">
                    <f:translate key="AiSuite.module.Agencies.translateXlf.fileName"/>
                </label><br />
                <f:form.textfield property="filename" name="filename" class="form-control" placeholder="{f:translate(key: 'AiSuite.module.Agencies.translateXlf.fileNamePlaceholder')}" required="required"/>
            </div>

            <f:render partial="Libs/SearchableDropdown" arguments="{
                searchableList: allLanguagesList,
                translateKeyButton: 'AiSuite.module.Agencies.translateXlf.destinationLang',
                propertyName: 'destinationLanguage'
            }" />


            <div class="form-group">
                <label>
                    <f:translate key="AiSuite.module.Agencies.translateXlf.translationMode.label"/>
                </label><br />
                <f:form.select property="translationMode" class="form-control mb-4">
                    <f:form.select.option value="all">
                        <f:translate key="AiSuite.module.Agencies.translateXlf.translationMode.optionAll"/>
                    </f:form.select.option>
                    <f:form.select.option value="missingProperties">
                        <f:translate key="AiSuite.module.Agencies.translateXlf.translationMode.missingOnly"/>
                    </f:form.select.option>
                </f:form.select>
            </div>

            <div class="form-group">
                <f:form.submit value="{f:translate(key: 'AiSuite.module.Agencies.translateXlf.submit')}" class="btn btn-secondary"/>
            </div>
        </f:form>

        <f:variable name="spinnerMessage" value="{f:translate(key: 'tx_aisuite.module.general.spinner.contentCreation')}" />
        <f:render partial="Spinner" arguments="{message: '{spinnerMessage}'}" />
    </section>

</f:section>
